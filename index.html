<html lang="id">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Baca Pesan Ini</title>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Caveat">
		<link rel="stylesheet" href="styles.css">
	</head>
	<body style="background-color:black">
		<hi class="leftm" style="color:white" id="textcontent"></hi>
		<iframe style="display:none;" width="560" height="315" src="https://www.youtube-nocookie.com/embed/-cZfTIOb0H4?controls=0&rel=0&autoplay=1" title="YouTube video player" frameborder="0" allow="autoplay;"></iframe>
	</body>
	<script>
		var i = 0, j = 0, text;
		const textarr = ["Ada banyak yang mau koko sampaikan ke kamu, selagi masih bisa...", "Tapi ada hal yang paling penting, dan ini berhubungan dengan yang pernah kamu blg sebelumnya...", "Kalau kamu punya orang terdekat di kelas 12...", "Carilah kenangan yang indah bersamanya,", "karena jujur saja, waktu kami di sklh tinggal beberapa bulan lagi.", "Gunakanlah waktu yang ada untuk momen bersama yang terbatas ini.", "Karena dilain waktu mungkin kalian tidak akan bertemu kembali....", "dan saling melupakan...", "Tapi, ", "kenangan itulah yang mungkin menjadi saksi hidup bersama untuk terakhir kalinya", "dan menjadi hal terindah dalam hidup.", "The End"];
		
		async function typing()
		{
			if(i < text.length)
			{
				const header = document.getElementById("textcontent");
				header.textContent += text.charAt(i);
				i++;
				await new Promise(r => setTimeout(r, 118 + j / (textarr.length - 1) * 52));
				await typing();
			}
		}
		async function animateMessage() 
		{
			const header = document.getElementById("textcontent");
			header.textContent = "";
			
			for (let mess of textarr)
			{
				text = mess;
				await typing();
				i = 0;
				
				j++;
				await new Promise(r => setTimeout(r, 3000));
				header.textContent = "";
			}
		}
		async function mainfunc()
		{
			await new Promise(r => setTimeout(r, 5000));
			await animateMessage();
			const header = document.getElementById("textcontent");
			header.textContent = "";
		}
		mainfunc();
	</script>
</html>
